<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>什么是HTTP协议 | 人生在勤，不索何获</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="web html js javascript">
    <link rel="preload" href="/assets/css/0.styles.f0e6d47e.css" as="style"><link rel="preload" href="/assets/js/app.2e628677.js" as="script"><link rel="preload" href="/assets/js/2.691c779f.js" as="script"><link rel="preload" href="/assets/js/3.6ad21635.js" as="script"><link rel="preload" href="/assets/js/21.64440547.js" as="script"><link rel="preload" href="/assets/js/4.1b497f39.js" as="script"><link rel="prefetch" href="/assets/js/10.d1292ffc.js"><link rel="prefetch" href="/assets/js/11.2534afc0.js"><link rel="prefetch" href="/assets/js/12.47fdff2c.js"><link rel="prefetch" href="/assets/js/13.6fbdcb8c.js"><link rel="prefetch" href="/assets/js/14.3e22e510.js"><link rel="prefetch" href="/assets/js/15.98415537.js"><link rel="prefetch" href="/assets/js/16.1ee4a592.js"><link rel="prefetch" href="/assets/js/17.924d5e81.js"><link rel="prefetch" href="/assets/js/18.d87814c0.js"><link rel="prefetch" href="/assets/js/19.a936e280.js"><link rel="prefetch" href="/assets/js/20.2cfca6bf.js"><link rel="prefetch" href="/assets/js/22.a7d85fee.js"><link rel="prefetch" href="/assets/js/23.20b63e35.js"><link rel="prefetch" href="/assets/js/24.fa2899f4.js"><link rel="prefetch" href="/assets/js/25.56f65808.js"><link rel="prefetch" href="/assets/js/26.66672954.js"><link rel="prefetch" href="/assets/js/27.84cd7335.js"><link rel="prefetch" href="/assets/js/28.e427cf1d.js"><link rel="prefetch" href="/assets/js/29.34f40d3c.js"><link rel="prefetch" href="/assets/js/30.6d298fa8.js"><link rel="prefetch" href="/assets/js/31.6a12774e.js"><link rel="prefetch" href="/assets/js/32.822e814d.js"><link rel="prefetch" href="/assets/js/33.9a3cb4f0.js"><link rel="prefetch" href="/assets/js/34.afe75808.js"><link rel="prefetch" href="/assets/js/35.32509d42.js"><link rel="prefetch" href="/assets/js/36.44fbdfc7.js"><link rel="prefetch" href="/assets/js/37.6babdcf8.js"><link rel="prefetch" href="/assets/js/38.d40edf41.js"><link rel="prefetch" href="/assets/js/39.b36b6fba.js"><link rel="prefetch" href="/assets/js/40.d082a05a.js"><link rel="prefetch" href="/assets/js/41.ce69422c.js"><link rel="prefetch" href="/assets/js/42.08f75dd5.js"><link rel="prefetch" href="/assets/js/43.d7a1e344.js"><link rel="prefetch" href="/assets/js/44.0942fb57.js"><link rel="prefetch" href="/assets/js/45.4726e13b.js"><link rel="prefetch" href="/assets/js/46.9fc00540.js"><link rel="prefetch" href="/assets/js/47.68591cfa.js"><link rel="prefetch" href="/assets/js/48.eb791eb4.js"><link rel="prefetch" href="/assets/js/49.7312592f.js"><link rel="prefetch" href="/assets/js/5.b952e597.js"><link rel="prefetch" href="/assets/js/50.ee6d928c.js"><link rel="prefetch" href="/assets/js/51.0e7f7f6a.js"><link rel="prefetch" href="/assets/js/52.150f46f9.js"><link rel="prefetch" href="/assets/js/53.478a2c8c.js"><link rel="prefetch" href="/assets/js/54.2cbcf841.js"><link rel="prefetch" href="/assets/js/55.c666b6fe.js"><link rel="prefetch" href="/assets/js/56.9d03cb49.js"><link rel="prefetch" href="/assets/js/57.d4245fa5.js"><link rel="prefetch" href="/assets/js/58.aa49fa02.js"><link rel="prefetch" href="/assets/js/59.c3f363c2.js"><link rel="prefetch" href="/assets/js/6.1e1194e2.js"><link rel="prefetch" href="/assets/js/60.08d9d4a5.js"><link rel="prefetch" href="/assets/js/61.f32fd35c.js"><link rel="prefetch" href="/assets/js/62.88a40684.js"><link rel="prefetch" href="/assets/js/63.58e41df9.js"><link rel="prefetch" href="/assets/js/64.7b27c5ef.js"><link rel="prefetch" href="/assets/js/65.91f01b83.js"><link rel="prefetch" href="/assets/js/66.39cf6497.js"><link rel="prefetch" href="/assets/js/67.c9e5f6f0.js"><link rel="prefetch" href="/assets/js/68.eea42972.js"><link rel="prefetch" href="/assets/js/69.a2a250ec.js"><link rel="prefetch" href="/assets/js/7.8cc75bd3.js"><link rel="prefetch" href="/assets/js/70.816a03b6.js"><link rel="prefetch" href="/assets/js/71.710f353c.js"><link rel="prefetch" href="/assets/js/72.e8e4e37f.js"><link rel="prefetch" href="/assets/js/73.c0947d14.js"><link rel="prefetch" href="/assets/js/74.2df5c0fe.js"><link rel="prefetch" href="/assets/js/75.802f8ca5.js"><link rel="prefetch" href="/assets/js/76.078961a1.js"><link rel="prefetch" href="/assets/js/77.d2754041.js"><link rel="prefetch" href="/assets/js/78.e118bb12.js"><link rel="prefetch" href="/assets/js/79.c011caf7.js"><link rel="prefetch" href="/assets/js/8.56a419eb.js"><link rel="prefetch" href="/assets/js/80.ae61d54b.js"><link rel="prefetch" href="/assets/js/81.cd3b8235.js"><link rel="prefetch" href="/assets/js/82.da821509.js"><link rel="prefetch" href="/assets/js/83.d65cf916.js"><link rel="prefetch" href="/assets/js/84.2a9b5f83.js"><link rel="prefetch" href="/assets/js/85.9f56b3d8.js"><link rel="prefetch" href="/assets/js/86.fbda71ac.js"><link rel="prefetch" href="/assets/js/87.f1fea485.js"><link rel="prefetch" href="/assets/js/88.24c5a7aa.js"><link rel="prefetch" href="/assets/js/89.4644a789.js"><link rel="prefetch" href="/assets/js/9.389af04d.js"><link rel="prefetch" href="/assets/js/90.3d19a452.js"><link rel="prefetch" href="/assets/js/91.e9e6addb.js"><link rel="prefetch" href="/assets/js/92.9d61f158.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f0e6d47e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo_ci.png" alt="人生在勤，不索何获" class="logo"> <span class="site-name can-hide">人生在勤，不索何获</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web前端" class="dropdown-title"><span class="title">Web前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/webFront/javascript/run/this指向.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/pages/webFront/css/各种FC.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/pages/webFront/Vue/1数据绑定_Observe.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/pages/webFront/浏览器/兼容.html" class="nav-link">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/pages/webFront/面试题/CSS3新特性.html" class="nav-link">
  面试题
</a></li></ul></div></div><div class="nav-item"><a href="/pages/node_js/node1.html" class="nav-link">
  Node.js
</a></div><div class="nav-item"><a href="/pages/webpack/wb1.html" class="nav-link">
  Webpack
</a></div><div class="nav-item"><a href="/pages/server/概念/socket.html" class="nav-link">
  服务器
</a></div><div class="nav-item"><a href="/pages/algorithm/冒泡排序.html" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/pages/computer/基础/语言类型.html" class="nav-link">
  计算机基础
</a></div><div class="nav-item"><a href="/pages/software/VSCode相关.html" class="nav-link">
  软件使用
</a></div><div class="nav-item"><a href="/pages/other/简历/my.html" class="nav-link">
  关于我
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web前端" class="dropdown-title"><span class="title">Web前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/webFront/javascript/run/this指向.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/pages/webFront/css/各种FC.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/pages/webFront/Vue/1数据绑定_Observe.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/pages/webFront/浏览器/兼容.html" class="nav-link">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/pages/webFront/面试题/CSS3新特性.html" class="nav-link">
  面试题
</a></li></ul></div></div><div class="nav-item"><a href="/pages/node_js/node1.html" class="nav-link">
  Node.js
</a></div><div class="nav-item"><a href="/pages/webpack/wb1.html" class="nav-link">
  Webpack
</a></div><div class="nav-item"><a href="/pages/server/概念/socket.html" class="nav-link">
  服务器
</a></div><div class="nav-item"><a href="/pages/algorithm/冒泡排序.html" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/pages/computer/基础/语言类型.html" class="nav-link">
  计算机基础
</a></div><div class="nav-item"><a href="/pages/software/VSCode相关.html" class="nav-link">
  软件使用
</a></div><div class="nav-item"><a href="/pages/other/简历/my.html" class="nav-link">
  关于我
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>网络基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/computer/network/OSI七层模型.html" class="sidebar-link">OSI七层模型</a></li><li><a href="/pages/computer/network/http协议.html" class="active sidebar-link">http协议</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/computer/network/http协议.html#什么是http协议" class="sidebar-link">什么是HTTP协议</a></li><li class="sidebar-sub-header"><a href="/pages/computer/network/http协议.html#http协议特点" class="sidebar-link">HTTP协议特点?</a></li><li class="sidebar-sub-header"><a href="/pages/computer/network/http协议.html#http之url" class="sidebar-link">HTTP之URL</a></li><li class="sidebar-sub-header"><a href="/pages/computer/network/http协议.html#http之request-请求报文" class="sidebar-link">HTTP之Request (请求报文)</a></li><li class="sidebar-sub-header"><a href="/pages/computer/network/http协议.html#http之response-响应报文" class="sidebar-link">HTTP之Response (响应报文)</a></li><li class="sidebar-sub-header"><a href="/pages/computer/network/http协议.html#http之状态码" class="sidebar-link">HTTP之状态码</a></li><li class="sidebar-sub-header"><a href="/pages/computer/network/http协议.html#http之请求方法" class="sidebar-link">HTTP之请求方法</a></li><li class="sidebar-sub-header"><a href="/pages/computer/network/http协议.html#http协议缺点" class="sidebar-link">HTTP协议缺点</a></li><li class="sidebar-sub-header"><a href="/pages/computer/network/http协议.html#请求头常用字段" class="sidebar-link">请求头常用字段</a></li><li class="sidebar-sub-header"><a href="/pages/computer/network/http协议.html#响应头常用字段" class="sidebar-link">响应头常用字段</a></li><li class="sidebar-sub-header"><a href="/pages/computer/network/http协议.html#字段总结" class="sidebar-link">字段总结</a></li><li class="sidebar-sub-header"><a href="/pages/computer/network/http协议.html#工作过程" class="sidebar-link">工作过程</a></li><li class="sidebar-sub-header"><a href="/pages/computer/network/http协议.html#tcp三次握手" class="sidebar-link">TCP三次握手</a></li><li class="sidebar-sub-header"><a href="/pages/computer/network/http协议.html#tcp四次挥手" class="sidebar-link">TCP四次挥手</a></li><li class="sidebar-sub-header"><a href="/pages/computer/network/http协议.html#http1-1协议-长连接" class="sidebar-link">HTTP1.1协议 长连接</a></li><li class="sidebar-sub-header"><a href="/pages/computer/network/http协议.html#http跨域处理" class="sidebar-link">HTTP跨域处理</a></li></ul></li><li><a href="/pages/computer/network/https协议.html" class="sidebar-link">https协议</a></li><li><a href="/pages/computer/network/GET和POST请求区别.html" class="sidebar-link">GET和POST请求区别</a></li><li><a href="/pages/computer/network/hosts文件.html" class="sidebar-link">hosts文件</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="什么是http协议"><a href="#什么是http协议" class="header-anchor">#</a> 什么是HTTP协议</h2> <ol><li>超文本传输协议, 定义服务器和客户端的传送协议</li> <li>HTTP是基于TCP/IP协议来传输数据的, 客户端请求, 服务器响应</li></ol> <h2 id="http协议特点"><a href="#http协议特点" class="header-anchor">#</a> HTTP协议特点?</h2> <ol><li>简单快速, 只传送请求方法和路径</li> <li>灵活, 允许传输任意类型数据对象, 只需要在请求头加入Content-Type标记</li> <li>无长连接, 每次请求和响应结束即会断开.</li> <li>无状态, 代表后面再处理某些参数, 需要进行重新传输.</li> <li>支持 客户端/服务器 或者 浏览器/服务器 模式</li> <li>如果支持长连接TCP, 会有队头阻塞问题 <br>
共用一个 TCP 连接，同一时刻只能处理一个请求，那么当前请求耗时过长的情况下，其它的请求只能处于阻塞状态(浏览器默认开启6个任务队列在一个域名上, 可以设置二级/三级域名多设置几个(但是注意会有跨域问题))</li></ol> <h2 id="http之url"><a href="#http之url" class="header-anchor">#</a> HTTP之URL</h2> <p>URL 统一资源定位符 <br>
URL: <code>http://www.lidongxu.com:8080/news/index.php?id=5&amp;uid=24618&amp;page=1#name</code> 包含以下几部分 <br></p> <ol><li>协议部分: 有http, https, ftp等</li> <li>域名部分: www.lidongxu.com, www代表顶级域名, 也可以使用ip地址作为域名</li> <li>端口部分: 作为本服务器提供的一个服务功能(80/8080 web端口, 3306mysql端口等)</li> <li>目录部分: 从域名和端口号后每个/都代表一个目录</li> <li>文件名部分: 最后一个/和?之间的即是文件名, 如果没有说明默认找的是index</li> <li>参数部分: 从?往后到#之间, 都是传递给这个url的参数, 格式是key=value&amp;key=value</li> <li>锚部分: 一般用于锚点链接或者某些路由框架里的路由设置.</li></ol> <h2 id="http之request-请求报文"><a href="#http之request-请求报文" class="header-anchor">#</a> HTTP之Request (请求报文)</h2> <p>1.请求里包含: (请求行, 请求头, 空行, 请求数据) <br> <img src="/computer/screenshot_1554012488815.png" alt=""> <br>
2. 例如: (利用抓包工具查看的结果)(或者后台的日志文件里)</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">POST</span> <span class="token operator">/</span>work<span class="token operator">/</span><span class="token number">1.</span>php <span class="token constant">HTTP1</span><span class="token number">.1</span>
Host<span class="token operator">:</span>www<span class="token punctuation">.</span>wrox<span class="token punctuation">.</span>com
User<span class="token operator">-</span>Agent<span class="token operator">:</span>Mozilla<span class="token operator">/</span><span class="token number">4.0</span> <span class="token punctuation">(</span>compatible<span class="token punctuation">;</span> <span class="token constant">MSIE</span> <span class="token number">6.0</span><span class="token punctuation">;</span> Windows <span class="token constant">NT</span> <span class="token number">5.1</span><span class="token punctuation">;</span> <span class="token constant">SV1</span><span class="token punctuation">;</span> <span class="token punctuation">.</span><span class="token constant">NET</span> 
<span class="token constant">CLR</span> <span class="token number">2.0</span><span class="token number">.50727</span><span class="token punctuation">;</span> <span class="token punctuation">.</span><span class="token constant">NET</span> <span class="token constant">CLR</span> <span class="token number">3.0</span><span class="token number">.04506</span><span class="token number">.648</span><span class="token punctuation">;</span> <span class="token punctuation">.</span><span class="token constant">NET</span> <span class="token constant">CLR</span> <span class="token number">3.5</span><span class="token number">.21022</span><span class="token punctuation">)</span>
Content<span class="token operator">-</span>Type<span class="token operator">:</span>application<span class="token operator">/</span>x<span class="token operator">-</span>www<span class="token operator">-</span>form<span class="token operator">-</span>urlencoded
Content<span class="token operator">-</span>Length<span class="token operator">:</span><span class="token number">40</span>
Connection<span class="token operator">:</span> Keep<span class="token operator">-</span>Alive

name<span class="token operator">=</span>Professional<span class="token operator">%</span><span class="token number">20</span>Ajax<span class="token operator">&amp;</span>publisher<span class="token operator">=</span>Wiley
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="3"><li>看浏览器请求都发送了哪些东西给目标Url(后台)</li></ol> <ul><li>第1行代码, 请求方法(POST), URL(/work/1.php), 协议版本HTTP1.1</li> <li>第2, 3, 4, 5, 6, 7行代码, 请求头代码, 头部字段名: 对应的值</li> <li>第8行代码, 代表空行 (必须有的), 用于区分头部和实体 <span style="color:red;">如在请求头中加入空行, 会把下面的请求头认为是实体(不要这样)</span></li> <li>第9行代码, 请求发送的数据</li></ul> <h2 id="http之response-响应报文"><a href="#http之response-响应报文" class="header-anchor">#</a> HTTP之Response (响应报文)</h2> <ol><li>服务器会向客户端/浏览器作出响应</li> <li>响应里包括: (状态行, 消息报头, 空行, 响应正文)</li> <li>例如:</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">HTTP</span><span class="token operator">/</span><span class="token number">1.1</span> <span class="token number">200</span> <span class="token constant">OK</span>
Date<span class="token operator">:</span> Fri<span class="token punctuation">,</span> <span class="token number">22</span> May <span class="token number">2009</span> <span class="token number">06</span><span class="token operator">:</span><span class="token number">07</span><span class="token operator">:</span><span class="token number">21</span> <span class="token constant">GMT</span>
Content<span class="token operator">-</span>Type<span class="token operator">:</span> text<span class="token operator">/</span>html<span class="token punctuation">;</span> charset<span class="token operator">=</span><span class="token constant">UTF</span><span class="token operator">-</span><span class="token number">8</span>

<span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>head<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>body goes here<span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ol start="4"><li>如上例子解释:</li></ol> <ul><li>第1行代码, 响应状态行, 协议, 响应状态码, 响应状态消息</li> <li>第2, 3行, 消息报头, 服务端返回给客户端使用的一些消息</li> <li>第4行, 空行(用于区分头部和实体)</li> <li>第5行, 服务器给客户端/浏览器, 返回的正文数据</li></ul> <h2 id="http之状态码"><a href="#http之状态码" class="header-anchor">#</a> HTTP之状态码</h2> <ol><li>1xx: 客户端应当继续发送请求</li> <li>2xx: 代表请求已成功被服务器接收、理解、并接受</li> <li>3xx: 重定向, 浏览器发起的请求在后台被重定向到另外一个地址了, 但是浏览器不知道过程</li> <li>4xx: 客户端错误, 请求错误</li> <li>5xx: 服务端无法正确处理请求, 响应错误</li> <li>常用状态码如下: <br>
(1): 200: 客户端请求成功 <br>
(2): 400: 语义错误, 无法被服务器理解, 请求参数有误 <br>
(3): 401: 请求需要用户验证, 包含了 Authorization 证书, 但是被服务器拒绝了 <br>
(4): 403: 服务器已经理解请求, 但是拒绝执行它 <br>
(5): 404: 请求url不存在 (一般常见于请求路径拼写错误) <br>
(6): 500: 服务器遇到了一个未曾预料的请求, 一般出现在后台代码报错 <br>
(7): 502: 网关或者代理服务器请求时, 从服务器接收到了一个无效响应 <br>
(8): 503: 服务器过载, 当前无法完成响应, 拒绝客户端连接 <br>
(9): 504: 网关或者代理服务器请求时, 等待响应超时了 <br> <a href="https://baike.baidu.com/item/HTTP%E7%8A%B6%E6%80%81%E7%A0%81/5053660?fr=aladdin" target="_blank" rel="noopener noreferrer">HTTP状态码_百度百科<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol> <h2 id="http之请求方法"><a href="#http之请求方法" class="header-anchor">#</a> HTTP之请求方法</h2> <p>HTTP1.0, 三种请求方法： GET   POST   HEAD <br>
HTTP1.1, 新增五种请求方法：OPTIONS, PUT, DELETE, TRACE 和 CONNECT 方法 <br></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">GET</span>        请求指定页面<span class="token punctuation">,</span> 并返回目标实体上数据
<span class="token constant">HEAD</span>       类似于<span class="token constant">GET</span><span class="token function">请求，只不过返回的响应中没有具体的内容，用于获取报头</span><span class="token punctuation">(</span>不常用<span class="token punctuation">)</span>
<span class="token constant">POST</span>       向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中

<span class="token constant">PUT</span>        从客户端向服务器传送的数据取代指定的文档的内容
<span class="token constant">DELETE</span>     请求服务器删除指定的页面
<span class="token constant">CONNECT</span>    <span class="token constant">HTTP</span><span class="token operator">/</span><span class="token number">1.1</span>协议中预留给能够将连接改为管道方式的代理服务器
<span class="token constant">OPTIONS</span>    允许客户端查看服务器的性能
<span class="token constant">TRACE</span>      回显服务器收到的请求，主要用于测试或诊断
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="http协议缺点"><a href="#http协议缺点" class="header-anchor">#</a> HTTP协议缺点</h2> <ol><li>通信使用明文不对数据进行加密（内容容易被窃听）</li> <li>不验证通信方身份（容易伪装）</li> <li>无法确定报文完整性（内容易被篡改）</li></ol> <h2 id="请求头常用字段"><a href="#请求头常用字段" class="header-anchor">#</a> 请求头常用字段</h2> <p><img src="/computer/screenshot_1555862592381.png" alt=""></p> <ol><li>请求体内容定长: Content-Length: 12, 设置请求体中内容长度(如果长度不匹配导致发送失败)</li> <li>请求体内容不定长: Transfer-Encoding: chunked <br>
表示分块传输数据，设置这个字段后会自动产生两个效果:</li></ol> <ul><li>Content-Length 字段会被忽略</li> <li>基于长连接持续推送动态内容</li></ul> <h2 id="响应头常用字段"><a href="#响应头常用字段" class="header-anchor">#</a> 响应头常用字段</h2> <p><img src="/computer/screenshot_1555862604630.png" alt=""></p> <h2 id="字段总结"><a href="#字段总结" class="header-anchor">#</a> 字段总结</h2> <ol><li>字段名不区分大小写</li> <li>字段名不许出现空格 或 下划线_</li> <li>字段名后面必须紧跟着:</li></ol> <ul><li><p>Accept：告诉WEB服务器自己接受什么介质类型，/ 表示任何类型，type/* 表示该类型下的所有子类型，type/sub-type。</p></li> <li><p>Accept-Charset： 浏览器申明自己接收的字符集</p></li> <li><p>Accept-Encoding： 浏览器申明自己接收的编码方法，通常指定压缩方法，是否支持压缩，支持什么压缩方法（gzip，deflate）</p></li> <li><p>Accept-Language：浏览器申明自己接收的语言 语言跟字符集的区别：中文是语言，中文有多种字符集，比如big5，gb2312，gbk等等。</p></li> <li><p>Accept-Ranges：当响应文件几百兆/几个G时, WEB服务器表明自己是否接受获取其某个实体的一部分（比如文件的一部分）的请求。bytes：表示接受，none：表示不接受。</p></li> <li><p>Age：当代理服务器用自己缓存的实体去响应请求时，用该头部表明该实体从产生到现在经过多长时间了。</p></li> <li><p>Authorization：当客户端接收到来自WEB服务器的 WWW-Authenticate  响应时，用该头部来回应自己的身份验证信息给WEB服务器。</p></li> <li><p>Cache-Control：请求：</p> <ul><li>no-cache（不要缓存的实体，要求现在从WEB服务器去取）</li> <li>max-age：（只接受 Age 值小于 max-age 值，并且没有过期的对象）</li> <li>max-stale：（可以接受过去的对象，但是过期时间必须小于 max-stale 值）</li> <li>min-fresh：（接受其新鲜生命期大于其当前 Age 跟 min-fresh 值之和的缓存对象）
下面是响应相关</li> <li>public(可以用 Cached 内容回应任何用户)</li> <li>private（只能用缓存内容回应先前请求该内容的那个用户）</li> <li>no-cache（可以缓存，但是只有在跟WEB服务器验证了其有效后，才能返回给客户端）</li> <li>max-age：（本响应包含的对象的过期时间）</li></ul></li> <li><p>Connection：</p> <ul><li>close（告诉WEB服务器或者代理服务器，在完成本次请求的响应后，断开连接，不要等待本次连接的后续请求了）</li> <li>keepalive（告诉WEB服务器或者代理服务器，在完成本次请求的响应后，保持连接，等待本次连接的后续请求）
下面是响应的</li> <li>响应：close（连接已经关闭）</li> <li>keepalive（连接保持着，在等待本次连接的后续请求）</li></ul></li> <li><p>Keep-Alive：如果浏览器请求保持连接，则该头部表明希望 WEB 服务器保持连接多长时间（秒）例如：Keep-Alive：300</p></li> <li><p>Content-Encoding：WEB服务器表明自己使用了什么压缩方法（gzip，deflate）压缩响应中的对象。例如：Content-Encoding：gzip</p></li> <li><p>Content-Language：WEB 服务器告诉浏览器自己响应的对象的语言。</p></li> <li><p>Content-Length： WEB 服务器告诉浏览器自己响应的对象的长度。例如：Content-Length: 26012</p></li> <li><p>Content-Range： WEB 服务器表明该响应包含的部分对象为整个对象的哪个部分。例如：Content-Range: bytes 21010-47021/47022</p></li> <li><p>Content-Type： WEB 服务器告诉浏览器自己响应的对象的类型。例如：Content-Type：application/xml</p></li> <li><p>ETag：就是一个对象（比如URL）的标志值，就一个对象而言，比如一个 html 文件，如果被修改了，其 Etag 也会别修改，所以ETag 的作用跟 Last-Modified 的作用差不多，主要供 WEB 服务器判断一个对象是否改变了。比如前一次请求某个 html 文件时，获得了其 ETag，当这次又请求这个文件时，浏览器就会把先前获得的 ETag 值发送给WEB 服务器，然后 WEB 服务器会把这个 ETag 跟该文件的当前 ETag 进行对比，然后就知道这个文件有没有改变了。</p></li> <li><p>Expired：WEB服务器表明该实体将在什么时候过期，对于过期了的对象，只有在跟WEB服务器验证了其有效性后，才能用来响应客户请求。是 HTTP/1.0 的头部。例如：Expires：Sat, 23 May 2009 10:02:12 GMT</p></li> <li><p>Host：客户端指定自己想访问的WEB服务器的域名/IP 地址和端口号。例如：Host：rss.sina.com.cn</p></li> <li><p>If-Match：如果对象的 ETag 没有改变，其实也就意味著对象没有改变，才执行请求的动作。</p></li> <li><p>If-None-Match：如果对象的 ETag 改变了，其实也就意味著对象也改变了，才执行请求的动作。</p></li> <li><p>If-Modified-Since：如果请求的对象在该头部指定的时间之后修改了，才执行请求的动作（比如返回对象），否则返回代码304，告诉浏览器 该对象没有修改。例如：If-Modified-Since：Thu, 10 Apr 2008 09:14:42 GMT</p></li> <li><p>If-Unmodified-Since：如果请求的对象在该头部指定的时间之后没修改过，才执行请求的动作（比如返回对象）。</p></li> <li><p>If-Range：浏览器告诉 WEB 服务器，如果我请求的对象没有改变，就把我缺少的部分给我，如果对象改变了，就把整个对象给我。浏览器通过发送请求对象的 ETag 或者 自己所知道的最后修改时间给 WEB 服务器，让其判断对象是否改变了。总是跟 Range 头部一起使用。</p></li> <li><p>Last-Modified：WEB 服务器认为对象的最后修改时间，比如文件的最后修改时间，动态页面的最后产生时间等等。例如：Last-Modified：Tue, 06 May 2008 02:42:43 GMT</p></li> <li><p>Location：WEB 服务器告诉浏览器，试图访问的对象已经被移到别的位置了，到该头部指定的位置去取。例如：Location：http://i0.sinaimg.cn/dy/deco/2008/0528/sinahome_0803_ws_005_text_0.gif</p></li> <li><p>Pramga：主要使用 Pramga: no-cache，相当于 Cache-Control： no-cache。例如：Pragma：no-cache</p></li> <li><p>Proxy-Authenticate： 代理服务器响应浏览器，要求其提供代理身份验证信息。Proxy-Authorization：浏览器响应代理服务器的身份验证请求，提供自己的身份信息。</p></li> <li><p>Range：浏览器（比如 Flashget 多线程下载时）告诉 WEB 服务器自己想取对象的哪部分。例如：Range: bytes=1173546-</p></li> <li><p>Referer：浏览器向 WEB 服务器表明自己是从哪个 网页/URL 获得/点击 当前请求中的网址/URL。例如：Referer：http://www.sina.com/</p></li> <li><p>Server: WEB 服务器表明自己是什么软件及版本等信息。例如：Server：Apache/2.0.61 (Unix)</p></li> <li><p>User-Agent: 浏览器表明自己的身份（是哪种浏览器）。例如：User-Agent：Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.8.1.14) Gecko/20080404 Firefox/2、0、0、14</p></li> <li><p>Transfer-Encoding: WEB 服务器表明自己对本响应消息体（不是消息体里面的对象）作了怎样的编码，比如是否分块（chunked）。例如：Transfer-Encoding: chunked</p></li> <li><p>Vary: WEB服务器用该头部的内容告诉 Cache 服务器，在什么条件下才能用本响应所返回的对象响应后续的请求。假如源WEB服务器在接到第一个请求消息时，其响应消息的头部为：Content- Encoding: gzip; Vary: Content-Encoding那么 Cache 服务器会分析后续请求消息的头部，检查其 Accept-Encoding，是否跟先前响应的 Vary 头部值一致，即是否使用相同的内容编码方法，这样就可以防止 Cache 服务器用自己 Cache 里面压缩后的实体响应给不具备解压能力的浏览器。例如：Vary：Accept-Encoding</p></li> <li><p>Via： 列出从客户端到 OCS 或者相反方向的响应经过了哪些代理服务器，他们用什么协议（和版本）发送的请求。当客户端请求到达第一个代理服务器时，该服务器会在自己发出的请求里面添 加 Via 头部，并填上自己的相关信息，当下一个代理服务器收到第一个代理服务器的请求时，会在自己发出的请求里面复制前一个代理服务器的请求的Via 头部，并把自己的相关信息加到后面，以此类推，当 OCS 收到最后一个代理服务器的请求时，检查 Via 头部，就知道该请求所经过的路由。例如：Via：1.0 236.D0707195.sina.com.cn:80 (squid/2.6.STABLE13)</p></li></ul> <h2 id="工作过程"><a href="#工作过程" class="header-anchor">#</a> 工作过程</h2> <ol><li>客户端/浏览器, 发送HTTP请求</li> <li>客户端TCP进行三次握手, 连接到服务器端</li> <li>服务器接收HTTP请求, 并根据请求方法和URL以及参数, 作出不同的HTTP响应</li> <li>TCP进行四次挥手, 释放TCP连接</li> <li>客户端解析服务器端返回的内容, 并显示</li></ol> <h2 id="tcp三次握手"><a href="#tcp三次握手" class="header-anchor">#</a> TCP三次握手</h2> <ol><li>客户端  -&gt;  (请求建立链接)   -&gt;  服务端</li> <li>客户端  &lt;-  (确认建立链接)   &lt;-  服务端</li> <li>客户端  -&gt;  (确认链接over)   -&gt;  服务端
接下来就可以愉快的传输数据了
<img src="/computer/screenshot_1554016572826.png" alt=""></li></ol> <h2 id="tcp四次挥手"><a href="#tcp四次挥手" class="header-anchor">#</a> TCP四次挥手</h2> <ol><li>客户端  -&gt;  (请求关闭链接)          -&gt;  服务端</li> <li>客户端  &lt;-  (确认关闭链接请求)      &lt;-  服务端</li> <li>客户端  &lt;-  (确认关闭链接)          &lt;-  服务端</li> <li>客户端  -&gt;  (确认关闭链接)          -&gt;  服务端
再见, 下次再见(如果服务器HTTP协议不支持长连接就断开了)
<img src="/computer/screenshot_1554016592075.png" alt=""></li></ol> <h2 id="http1-1协议-长连接"><a href="#http1-1协议-长连接" class="header-anchor">#</a> HTTP1.1协议 长连接</h2> <p>本协议, 默认设置请求头部Connection为keep-alive
保持的是TCP一直连接, 而非HTTP连接
但是需要服务器端, 支持长连接(可见响应头Connection)
这样多次发起http请求资源, 会复用TCP连接</p> <h2 id="http跨域处理"><a href="#http跨域处理" class="header-anchor">#</a> HTTP跨域处理</h2> <ol><li>当Ajax发送请求时, 所在的协议/域名(ip)/端口号, 和要请求的目标的协议/域名(ip)/端口号有一个不一样的, 就发生跨域.</li> <li>注意其实请求和响应都成功了, 但是在主线程检查是否跨域时, 并且响应头里是否有CORS(如果没有), 则丢弃全部的响应内容, 不会传给JS渲染引擎
处理跨域<a href="/pages/webFront/浏览器/CORS.html#cors简介">CORS</a></li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">9/25/2020, 9:21:50 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/pages/computer/network/OSI七层模型.html" class="prev">
        OSI七层模型
      </a></span> <span class="next"><a href="/pages/computer/network/https协议.html">
        https协议
      </a>
      →
    </span></p></div> </main> <section class="page" style="border-top:2px solid #eaecef;padding-top:1rem;margin-top:2rem;padding-right:2.5rem;display:none;"><div style="padding-left:2.5rem;"><span data-flag-title="Your Article Title" class="leancloud-visitors"><em class="post-meta-item-text">阅读量：</em> <i class="leancloud-visitors-count"></i></span></div> <h3 style="padding-left:2.5rem;">发表评论：</h3> <div id="vcomments" style="padding-left:2.5rem;"></div></section></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2e628677.js" defer></script><script src="/assets/js/2.691c779f.js" defer></script><script src="/assets/js/3.6ad21635.js" defer></script><script src="/assets/js/21.64440547.js" defer></script><script src="/assets/js/4.1b497f39.js" defer></script>
  </body>
</html>
